<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="club">

	 <select id = "getMemClub" parameterType ="member" resultType ="club">
	 	<![CDATA[
			  	select 
	                a.clubName
	                ,a.clubId
	                from club a join club_member b on a.clubId = b.clubId
	            where b.memberId = #{memberId}	
	 	]]>
	 </select>
 
      <insert id="insertClub" parameterType="com.firmeet.vo.ClubVo">
       <selectKey resultType="int" order="BEFORE"
         keyProperty="clubId">
         select seq_clubId.nextval from dual
      </selectKey>
        <![CDATA[
           insert into club(clubId,clubName,cre_date,max,preNum,intro1,intro2,address1,
                        address2,detailT,detailL,detailP,detailE,detailW)
                    values(#{clubId}, #{clubName}, sysdate, #{max}, 1,
                          #{intro1}, #{intro2}, #{address1}, #{address2},
                          #{detailT}, #{detailL}, #{detailP}, #{detailE},#{detailW})
       ]]>
     </insert>
     <insert id="insertClubCate" parameterType="com.firmeet.vo.CategoryVo">
		<![CDATA[	
			insert into club_category (clubCateNum,clubId,cateNum)
			values(seq_club_category_no.nextval, #{clubId},#{cateNo})
		
		 ]]>
     </insert>
     
     <insert id="insertClubTag" parameterType="com.firmeet.vo.CategoryVo">
		<![CDATA[	
			insert into club_category (clubCateNum,clubId,tagNum)
			values(seq_club_tagNo.nextval, #{clubId},#{tagNo})
		
		 ]]>
     </insert>

   

</mapper>